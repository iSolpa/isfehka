<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
        <t t-name="OrderReceipt" owl="1">
            <div class="pos-receipt">
                <t t-if="env.services.pos.config.logo">
                    <img t-att-src="'data:image/png;base64,' + env.services.pos.config.logo"
                        alt="Logo" class="pos-receipt-logo"/>
                    <br />
                </t>
                <div class="pos-receipt-contact">
                    <t t-if="env.services.pos.company.name">
                        <div><t t-esc="env.services.pos.company.name" /></div>
                    </t>
                    <t t-if="env.services.pos.company.phone">
                        <div>Tel:<t t-esc="env.services.pos.company.phone" /></div>
                    </t>
                    <t t-if="env.services.pos.company.vat">
                        <div><t t-esc="env.services.pos.company.vat_label"/>:<t t-esc="env.services.pos.company.vat" /></div>
                    </t>
                    <t t-if="env.services.pos.company.email">
                        <div><t t-esc="env.services.pos.company.email" /></div>
                    </t>
                    <t t-if="env.services.pos.company.website">
                        <div><t t-esc="env.services.pos.company.website" /></div>
                    </t>
                    <t t-if="props.receipt.headerData.header">
                        <t t-out="props.receipt.headerData.header" />
                    </t>
                    <t t-if="props.receipt.headerData.cashier">
                        <div class="cashier">
                            <div>--------------------------------</div>
                            <div>Served by <t t-esc="props.receipt.headerData.cashier" /></div>
                        </div>
                    </t>
                </div>
                <br/>
                <t t-if="props.receipt.hkaPdfImage">
                    <div class="pos-receipt-hka" style="width: 100%; margin-bottom: 15px;">
                        <div class="pdf-container" style="background: white;">
                            <img t-att-src="props.receipt.hkaPdfImage" 
                                style="width:100%; height:auto;" 
                                alt="HKA Receipt"/>
                        </div>
                    </div>
                </t>
                <t t-elif="props.receipt.hkaPdfData">
                    <!-- Fallback to PDF if image conversion fails -->
                    <div class="pos-receipt-hka" style="width: 100%; margin-bottom: 15px;">
                        <div class="pdf-container" style="background: white;">
                            <embed t-att-src="'data:application/pdf;base64,' + props.receipt.hkaPdfData" 
                                    style="width:100%; height:400px; border: none;" frameborder="0"></embed>
                        </div>
                    </div>
                </t>
                <t t-else="">
                    <div style="font-size:14px; text-align:center;">HKA RECEIPT NOT FOUND YET</div>
                </t>
                
                <br/><br/>
            </div>
        </t>
</templates>
